{% extends "base.html" %}
{% load i18n %}

{% block script_data %}
{% endblock %}
{% block script_extra %}
<script src="{{STATIC_URL}}lib/Article.js"></script>
<script src="{{STATIC_URL}}lib/Config.js"></script>
<script src="{{STATIC_URL}}plugins/stupidtable.js"></script>
<script>
$('document').ready(function(){
    $('#projects_table').stupidtable();
});
</script>
{% endblock %}

{% block title %}bMa -- {% trans "Projects List" %}{% endblock %}

{% block script_map %}
{% endblock %}
{% block menu %}
<h2>{% trans "Projects List" %}</h2>
{% endblock %}

{% block map %}
<div id="map-wrapper">
<div id="map-wrapper-2">
<div id="projects_table_wrapper">
<table id="projects_table">
<thead>
<tr>
<th data-sort="string">{% trans "Name" %}</th>
<th data-sort="string">{% trans "Address" %}</th>
<th data-sort="string">{% trans "City" %}</th>
<th data-sort="string">{% trans "Function" %}</th>
</tr>
</thead>
<tbody>
{% for project in projects %}
<tr>
<td>{{ project.name }}</td>
<td>{{ project.address }}</td>
<td>{{ project.city.zipcode }} {{ project.city.name }}</td>
<td>{%for f in project.functions.all %}{{ f.name }}{% if not forloop.last %}, {% endif %}{%endfor%}</td>
</tr>
{% endfor %}
</tbody>
</table>
</div>
</div>
</div>
{% endblock %}